---
title: "vscode+gradle+kotlin"
subtitle: ""
date: 2022-07-07T23:47:59+08:00
lastmod: 2022-07-07T23:47:59+08:00
draft: false
authors: []
description: ""

tags: []
categories: []
series: []

hiddenFromHomePage: false
hiddenFromSearch: false

featuredImage: ""
featuredImagePreview: ""

toc:
  enable: true
math:
  enable: false
lightgallery: false
license: ""
---
æœ€è¿‘äº‹å¤šï¼Œæ•´å¤©çå¿™ï¼Œéƒ½æ˜¯æ²Ÿé€šã€å¼€ä¼šã€å¡«è¡¨æ ¼å’Œå¡«å‘ï¼Œä»Šå¤©æƒ³ä¼‘æ¯ä¼‘æ¯ï¼Œæ‰“ç®—æœ‰ç©ºå†å†™å†™åç«¯æœåŠ¡ï¼ŒæŠŠè‡ªå·±çš„ç½‘ç›˜å’Œå›¾åºŠå…ˆå¼„å¥½ã€‚æ€æ¥æƒ³å»ï¼Œè‡ªå·±ä¸€ä¸ªäººçš„é¡¹ç›®ï¼Œæ—¶é—´å°‘ï¼Œæ‰€ä»¥å°½é‡è¿˜æ˜¯è¦æ–¹ä¾¿ç»´æŠ¤ï¼Œé‚£ä¹ˆå°±ä¸è¦ç”¨JAVAäº†ï¼Œç½—é‡Œå§å—¦çš„ï¼Œå¯æƒœDartè¿™è¾¹æ²¡ä»€ä¹ˆå¥½çš„æ¡†æ¶ï¼Œè¦ä¸ç„¶ä¸€ä¸ªè¯­è¨€å…¨ç«™äº†ï¼Œæœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº†kotlinï¼Œä½†æ˜¯åˆä¸æƒ³ç”¨ideaï¼Œäºæ˜¯æˆ‘ç„å‘äº†vscode...
<!--more-->

## IDEå’ŒæŠ€æœ¯é€‰å‹

ç”±äºideaå¤ªè´µäº†ï¼Œä»Šå¹´åˆæ¶¨ä»·äº†ï¼Œå¹¶ä¸”ç ´è§£ç»å¸¸å¤±æ•ˆï¼Œæ€»æ˜¯çªç„¶æŠŠæˆ‘æçš„ç„¦å¤´çƒ‚é¢çš„ï¼Œæ‰€ä»¥å¾ˆåæ„Ÿè¿™ç±»æ”¶è´¹çš„IDEã€‚

åæ¥è½¬å›eclipseï¼Œå‘ç°è¿™è´§æ…¢ã€ä¸‘ã€ç¬¨ï¼Œäºæ˜¯åˆå¼€å§‹å°è¯•å®‡å®™ç¬¬ä¸€IDEçš„å°è€å¼Ÿâ€”â€”vscodeã€‚

ä¸€å¼€å§‹ï¼Œå°è¯•ç”¨vscodeå†™äº†å‡ ä¸ªjavaå¾®æœåŠ¡ï¼ŒçœŸå«é¦™å•Šï¼Œä»¿ä½›å°±æ˜¯å¤©ç”Ÿä¸ºSpringCloudè€Œç”Ÿçš„ã€‚ä½†æ˜¯Springæœ¬èº«ç”Ÿæ€æ··ä¹±ï¼Œåºå¤§ï¼Œç¬¨æ‹™ï¼Œæ¯”å¦‚æ³¨å†Œä¸­å¿ƒæˆ‘é‡‡ç”¨é˜¿é‡Œçš„nacosï¼Œé‰´æƒä¸­å¿ƒé‡‡ç”¨keycloakï¼Œè¿™ä¿©è´§æœ¬èº«æ˜¯è„±ç¦»SpringCloudè€Œç‹¬ç«‹å­˜åœ¨çš„ï¼Œå†åŠ ä¸Šç†”æ–­ã€ç½‘å…³ç­‰ç­‰ï¼Œæˆ‘çš„é¡¹ç›®å°±æ˜¯å®¶é‡Œå‡ ä¸ªäººç”¨ï¼Œæˆ‘ä½•å¿…è¿™ä¹ˆå·è‡ªå·±å‘¢ï¼Ÿå†µä¸”æˆ‘çš„å°æ ‘è“æ´¾ä¹Ÿä¸ä¸€å®šåƒçš„æ¶ˆã€‚

åæ¥é™†ç»­åˆå°è¯•äº†Dartçš„ä¸¤ä¸ªåç«¯æ¡†æ¶ï¼Œå®˜æ–¹ç»´æŠ¤çš„è·Ÿç‹—å±ä¸€æ ·ï¼Œåˆå°è¯•äº†çº¢å¸½çš„Quarkusï¼Œä¹Ÿæ˜¯å¤ªåºå¤§å¤æ‚äº†ã€‚

æœ€ååˆçœ‹äº†ä¸€ä¸‹Kotlinè¿™è¾¹å€’æ˜¯å‡ºç°äº†ä¸€ä¸ªæ–°æ¡†æ¶å«`ktor`ï¼Œè®¾è®¡çš„æŒºæ¸…å¥‡çš„ï¼Œç”¨èµ·æ¥ä¹Ÿè¿˜ä¸é”™ï¼Œç”Ÿæ€åŸºæœ¬ä¹Ÿç®—å¥å…¨ã€‚

é‚£ä¹ˆç°åœ¨å”¯ä¸€çš„é—®é¢˜å°±æ˜¯IDEçš„é€‰æ‹©äº†ã€‚åœ¨ç½‘ä¸Šæœvscodeå¼€å‘kotlinï¼ŒåŸºæœ¬éƒ½æ˜¯åŸºäºcodeRunnerï¼Œè¿™ä¸ªä¸œè¥¿å®åœ¨å¤ªå¹¼ç¨šäº†...äºæ˜¯ä¹ï¼Œä¸€å¹´è¿‡å»äº†æˆ‘çš„é¡¹ç›®è¿˜æ²¡è½åœ°ï¼Œè‰¹ï¼

æ—¶é—´æ¥åˆ°æœ€è¿‘ï¼Œæˆ‘çœ‹äº†å‡ ç¯‡åœ¨vscodeä¸Šæ­å»ºc++ç¯å¢ƒçš„æ–‡ç« ï¼Œæ ¹æœ¬ä¸éœ€è¦ä»€ä¹ˆcodeRunnerï¼Œä»Šå¤©é—²ä¸‹æ¥çªç„¶çµæœºä¸€åŠ¨ï¼Œæˆ‘ç…§çŒ«ç”»è™ï¼Œç»ˆäºæå®šäº†ï¼âœŒğŸ»
## æ’ä»¶é€‰æ‹©

éœ€è¦[è¿™ä¸ª](https://marketplace.visualstudio.com/items?itemName=fwcd.kotlin)å’Œ[è¿™ä¸ª](https://marketplace.visualstudio.com/items?itemName=richardwillis.vscode-gradle-extension-pack)

ç›®å‰æœ€å¥½ç”¨çš„kotlin-languageServerï¼Œè¿˜å¸¦ä»£ç è¡¥å…¨ï¼ˆèŠèƒœäºæ— ï¼‰å’Œlintè¿˜æœ‰debugã€‚

å¦ä¸€ä¸ªæ˜¯å·¨ç¡¬å®˜æ–¹çš„gradleæ’ä»¶ï¼Œç¨³å®šæ€§å¯é ã€‚

## gradleç¯å¢ƒå˜é‡

åœ¨[è¿™é‡Œ](https://services.gradle.org/distributions/)ä¸‹è½½gradleï¼Œå°½é‡é€‰æ‹©æ­£å¼çš„é«˜ç‰ˆæœ¬çš„ï¼Œè§£å‹ï¼Œç„¶åè®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```
export GRADLE_HOME=/Users/vee/Library/gradle-7.4.2
export PATH=$PATH:$GRADLE_HOME/bin
```

>windowsæ€ä¹ˆè®¾ç½®è‡ªå·±å»æŸ¥ï¼Œæˆ‘ä¸ä¼šç”¨windowsã€‚

ç„¶åç»ˆç«¯`source .profile`

æœ€åç»ˆç«¯æ‰§è¡Œå‘½ä»¤`gradle`çœ‹çœ‹æˆåŠŸæ²¡ã€‚

## gradleåˆ›å»ºkotliné¡¹ç›®

```
gradle init --type kotlin-application
```

è·Ÿç€æç¤ºä¸€ç›´èµ°ã€‚

## vscodeé…ç½®

`cd`åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œç„¶åç›´æ¥`code .`ï¼Œå°±å¯ä»¥åœ¨vscodeä¸­æ‰“å¼€é¡¹ç›®äº†ã€‚

ç„¶åvscodeçš„èœå•æ ->ç»ˆç«¯->é…ç½®é»˜è®¤ç”Ÿæˆä»»åŠ¡-ã€‹gradle:app:buildï¼Œä¸€é¡¿æ“ä½œçŒ›å¦‚ç‹—ï¼Œå°±ä¼šå‘ç°é¡¹ç›®æ ¹ç›®å½•å¤šäº†ä¸€ä¸ª`.vscode/tasks.json`,å¦‚æœæ˜¯å¤šmoudleå·¥ç¨‹ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶çš„tasksæ•°ç»„é‡Œé¢ç…§çŒ«ç”»è™å†æ·»åŠ ä¸ªtaskå°±è¡Œäº†ã€‚

```
{
	"version": "2.0.0",
	"tasks": [
		{
			"type": "gradle",
			"id": "/Users/vee/Downloads/testapp:buildapp",
			"script": "app:build",
			"description": "Assembles and tests this project.",
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"project": "app",
			"buildFile": "/Users/vee/Downloads/test/app/build.gradle.kts",
			"rootProject": "test",
			"projectFolder": "/Users/vee/Downloads/test",
			"workspaceFolder": "/Users/vee/Downloads/test",
			"args": "",
			"javaDebug": false,
			"problemMatcher": [
				"$gradle"
			],
			"label": "gradle: app:build"
		}
	]
}
```

æ¥ä¸‹æ¥åœ¨ç›¸åŒç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`launch.json`æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```
{
    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 
    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "type": "kotlin",
            "request": "launch",
            "name": "Kotlin Launch",
            "projectRoot": "${workspaceFolder}/app",
            "mainClass": "MyKotlinTest.AppKt",
            "preLaunchTask": "gradle: app:build"
        }
    ]
}
```

é¦–å…ˆæ·»åŠ `preLaunchTask`å­—æ®µï¼Œå€¼å°±æ˜¯åˆšæ‰taskçš„labelï¼Œè¦åŸå°ä¸åŠ¨çš„å¤åˆ¶è¿‡æ¥ã€‚

ç„¶åä¿®æ”¹`projectRoot`å­—æ®µï¼Œä»–é»˜è®¤æ˜¯"${workspaceFolder}"ï¼Œè¿™æ˜¯vscodeä¸­çš„ç¯å¢ƒå˜é‡ï¼Œè¡¨ç¤ºé¡¹ç›®çš„æ ¹ç›®å½•ã€‚ä½†æ˜¯gradleçš„æ–‡ä»¶ç»“æ„æ˜¯å¤šäº†ä¸€å±‚appç›®å½•çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨åé¢æ·»åŠ `app`è·¯å¾„ã€‚

æœ€åä¿®æ”¹`mainClass`å­—æ®µï¼Œè¿™ä¸ªå­—æ®µè¡¨ç¤ºç¨‹åºå…¥å£ç±»ï¼Œå€¼æ˜¯å…¥å£ç±»çš„å…¨åç§°ï¼ˆåŒ…å+æ–‡ä»¶åï¼‰ã€‚ç”±äºæ˜¯kotlinç±»å‹çš„æ–‡ä»¶ï¼Œåç¼€åéƒ½æ˜¯`.kt`ï¼Œæ‰€ä»¥ç±»åè¦åŠ ä¸Š`Kt`åç¼€ï¼Œè¿™æ˜¯kotlinæ’ä»¶è¦æ±‚çš„ï¼ŒçœŸtmæ€è·¯æ¸…å¥‡ã€‚

æœ€åæ”¾å¿ƒç›´æ¥æŒ‰F5ï¼Œå½“ç„¶æˆ‘çš„touch barä¸Šç›´æ¥æ˜¾ç¤ºäº†playæŒ‰é’®ï¼Œç‚¹ä»–ä¸€ä¸‹ï¼Œå°±å¯ä»¥çœ‹åˆ°ç¨‹åºè‡ªåŠ¨buildï¼Œå¹¶ä¸”è¿è¡Œäº†âœŒğŸ»

## åè®°

9ç‚¹å›æ¥ï¼Œå¼„å¥½ç¯å¢ƒï¼Œå»æ´—äº†ä¸ªé¦™é¦™ï¼Œç„¶åæ´—è¢œå­ï¼Œæ´—å†…è£¤ï¼Œæ‹–åœ°ï¼Œå›æ¥å†™blogï¼Œä¸€çœ‹è¡¨åˆ12ç‚¹åŠäº†ï¼Œç¡å§ï¼Œæ˜å¤©ç»§ç»­å»ç¼–è¯‘ç³»ç»Ÿäº†ã€‚